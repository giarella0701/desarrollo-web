/* ============================
   Panel Futurista – Simulador
   ============================ */

/* Paleta y efectos base */
:root{
  --bg1:#0b0f14;
  --bg2:#0f1923;
  --card:#0f1320cc;
  --neon:#00ffd1;
  --neon-2:#00a3ff;
  --accent:#ff2d8c;
  --text:#e8f7ff;
  --muted:#8aa0b2;
  --shadow: 0 0 16px rgba(0,255,209,.35), 0 0 40px rgba(0,163,255,.2);
}

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: "Orbitron", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background: radial-gradient(1200px 800px at 15% -10%, #15283a 0%, transparent 60%),
              radial-gradient(1000px 700px at 110% 10%, #0f2743 0%, transparent 55%),
              linear-gradient(180deg, var(--bg1), var(--bg2));
}

/* Contenedor del simulador */
.energy-simulator{
  width:min(980px, 92vw);
  margin:32px auto;
  padding:22px;
  background: linear-gradient(180deg, #0b1328 0%, #0b0f1d 100%);
  border:1px solid rgba(0,255,209,.25);
  border-radius:18px;
  box-shadow: var(--shadow);
  position: relative;
  overflow: hidden;
  isolation: isolate;
  animation: cardIn .7s ease both;
}

/* Líneas decorativas */
.energy-simulator::before,
.energy-simulator::after{
  content:"";
  position:absolute; inset:-2px;
  background:
    conic-gradient(from 0deg at 50% 50%, transparent 0 290deg, rgba(0,255,209,.12) 300deg 360deg);
  filter: blur(22px);
  z-index:-1;
  animation: rotateHue 10s linear infinite;
  pointer-events: none;
  mask: radial-gradient(180px 180px at 10% 10%, #0000 40%, #000 41%);
}

/* Título */
.energy-simulator h2{
  font-size: clamp(1.2rem, 2.8vw, 1.8rem);
  letter-spacing: .08em;
  text-transform: uppercase;
  margin: 4px 0 14px;
  color: var(--neon);
  text-shadow: 0 0 10px rgba(0,255,209,.75);
  display:flex; align-items:center; gap:12px;
}

.energy-simulator h2::before{
  content:"";
  width:26px; height:26px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, var(--neon) 0 35%, transparent 36%);
  box-shadow: 0 0 12px var(--neon), 0 0 28px var(--neon-2);
}

/* Canvas/Gráfico */
.energy-simulator canvas{
  width:100% !important;
  height:auto !important;
  background: rgba(0, 12, 24, .55);
  border:1px solid rgba(0,163,255,.25);
  border-radius:14px;
  padding:10px;
  box-shadow: 0 0 22px rgba(0,163,255,.25) inset, 0 0 20px rgba(0,255,209,.15);
  animation: floatUp .8s ease both;
}

/* Panel de métricas */
.metrics{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:14px;
  margin:16px 0 8px;
}
.metric-card{
  background: var(--card);
  border: 1px dashed rgba(0,255,209,.35);
  border-radius:14px;
  padding:14px 16px;
  position:relative;
  overflow:hidden;
  transition: transform .25s ease, box-shadow .25s ease;
}
.metric-card:hover{
  transform: translateY(-3px);
  box-shadow: 0 12px 22px rgba(0,0,0,.35), var(--shadow);
}
.metric-label{
  font-size:.82rem; color:var(--muted); letter-spacing:.06em;
}
.metric-value{
  font-size: clamp(1.2rem, 3.5vw, 1.8rem);
  font-weight:800;
  margin-top:4px;
  text-shadow: 0 0 10px rgba(0,255,209,.35);
}
.metric-value .unit{
  font-size:.9rem; font-weight:600; color:var(--muted); margin-left:6px;
}

/* Contador con pulso */
#currentConsumption{
  color: var(--neon-2);
  animation: pulseSoft 1.4s ease-in-out infinite;
}
#savedEnergy{
  color: var(--accent);
  animation: glowText 2s ease-in-out infinite;
}

/* Controles */
.controls{
  display:flex; flex-wrap:wrap; gap:10px;
  justify-content:center; margin:14px 0 2px;
}
.btn{
  --bg: linear-gradient(90deg, var(--neon), var(--neon-2));
  background: var(--bg);
  color:#001318;
  border:none;
  padding:12px 18px;
  font-weight:800;
  letter-spacing:.04em;
  border-radius:12px;
  cursor:pointer;
  box-shadow: 0 0 14px rgba(0,255,209,.35);
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
  position:relative; overflow:hidden;
}
.btn::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(110deg, #fff6 0%, #fff0 20% 80%, #fff6 100%);
  transform: translateX(-100%);
  transition: transform .5s ease;
  mix-blend-mode: overlay;
}
.btn:hover{ transform: translateY(-2px) scale(1.03); box-shadow: 0 0 26px rgba(0,255,209,.45); }
.btn:hover::after{ transform: translateX(0%); }
.btn.secondary{
  --bg: linear-gradient(90deg, #ff2d8c, #ff7a2d);
  color:#1a0010;
}

/* Etiquetas bajo el gráfico (opcional) */
.legend{
  margin-top:10px;
  color:var(--muted);
  font-size:.9rem;
}

/* Footer del panel (opcional) */
.sim-footer{
  margin-top:12px;
  padding-top:10px;
  border-top:1px solid rgba(0,255,209,.15);
  color:var(--muted);
  font-size:.85rem;
}

/* Animaciones clave */
@keyframes cardIn{
  from{ opacity:0; transform: translateY(14px) scale(.98); }
  to{ opacity:1; transform: translateY(0) scale(1); }
}
@keyframes rotateHue{
  to{ transform: rotate(1turn); filter: hue-rotate(360deg); }
}
@keyframes floatUp{
  from{ opacity:0; transform: translateY(16px); }
  to{ opacity:1; transform: translateY(0); }
}
@keyframes pulseSoft{
  0%,100%{ transform: scale(1); text-shadow: 0 0 6px rgba(0,163,255,.35); }
  50%{ transform: scale(1.03); text-shadow: 0 0 16px rgba(0,163,255,.55); }
}
@keyframes glowText{
  0%{ text-shadow: 0 0 6px rgba(255,45,140,.3); }
  50%{ text-shadow: 0 0 22px rgba(255,45,140,.7); }
  100%{ text-shadow: 0 0 6px rgba(255,45,140,.3); }
}

/* Accesibilidad: respetar reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* Responsive compacto */
@media (max-width: 720px){
  .metrics{ grid-template-columns: 1fr; }
  .energy-simulator{ padding:16px; }
}
